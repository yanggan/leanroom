<!-- 这个文档放置组件，利用macro实现 -->


{# 组件定义 #}
<!-- 网页标题栏块 -->

{% macro contents_title(title="课程标题",description="课程副标题")-%}
    
    <div class="l-title ">
        <h1>{{title}}</h1>
        <p>{{description}}</p>
    </div>
    <div class="l-title-line"></div>

{%- endmacro %}


<!--登录注册组件 -->
{% macro login_panel(current_user=None) %}
    

    <!-- 注册登录、我的面板 -->
    {# 用户信息 #}
    {% if (current_user.is_authenticated) %}
    <div class="user_login ">
        <div class="login_links">
            <a href="#" class=" button-collapse" data-activates="is_active_course_nav" >  欢迎您,{{ current_user.id }}!<i class="material-icons dp48">arrow_drop_down</i></a>
        </div>
    </div>

    {%else%}
        <!-- 注册登录 -->
        <div class="user_login ">
            <div class="login_links">
                <a href="#login_modal">注册 | 登录</a>
            </div>
        </div>
    {% endif %}
    <!-- 弹出层 -->
        {# 这里是弹出层，输入购买验证码 #}
    <!-- modal内容，输入兑换码 -->
    <div class="remodal login_register_modal z-depth-2 " data-remodal-id="login_modal">
        

        <div class="row">
            
            <div class="register_div col s6">
                <h5>用户注册</h5>
                <form action="" class="login_register_form">
                    

                    <input placeholder="请输入用户名" id="user_name" type="text" class="login_register_input">
 

                    <input placeholder="设置您的密码" id="password" type="password" class="login_register_input hideShowPassword-hidden login-field">
<!--                     <div class="my-toggle-class hideShowPassword-toggle-show">Show</div> -->

                    <input placeholder="VIP会员激活码(选填)" id="super_code" type="text" class="login_register_input">
                    
                    <div class="row">
                        <a href="" class=" col s6 supercode_links ">了解VIP会员特权</a>
                        <a class="waves-effect  z-depth-0 waves-light btn login_register_btn login_btn ">立即注册</a>
                    </div>


                </form>
            </div>
            <div class="login_div col s6" class="login_register_form" >
                <h5>登录</h5>

                <form action="">

                    <input placeholder="请输入用户名" id="first_name" type="text" class="login_register_input" >
  

                    <input  placeholder="请输入您的密码" id="password" type="password" class="login_register_input">
                    <div class="row">
                        <p>
                            <input type="checkbox" class="filled-in" id="filled-in-box" checked="checked">
                            <label for="filled-in-box" class="user_remember_label">记住登录状态</label>
                        </p>
                        <a class="waves-effect z-depth-0 waves-light btn login_register_btn">登录</a>
                    </div>


                </form>
            </div>


        </div>

        
    </div>

{% endmacro %}







{# 内页标题栏目 + 右侧功能按钮 #}

{% macro course_sub_title(
    course_id = '',
    course_is_free = false,
    course_read_count = None,
    course_name="课程名称",
    img_url="",
    course_category="类别",
    course_count="",
    course_size=0,
    course_passwd=None
) %}

<div class="l-sub-title-left row">
    
    {# 左边是课程的信息 #}
    <div class="col s1 lstl-img"><img src="{{img_url}}"></div>
    <div class=" col s5">
        <h5>{{course_name}}</h5>
        <span class="course_span">{{course_category}} | {{course_count}}套课程 | {{course_size}}G | {{course_read_count}} k+次查看</span> &nbsp
        {%if course_passwd != None %}
            {%if course_is_free == True %}
                <span class="label label-success">限免课程</span>
            {% else %}
                <span class="label label-success">已兑换</span>
                
            {%endif%}
        {%endif%}
    </div>
    {# 右边是操作，返回上一页，兑换课程，导出地址和提取码 #}
    <div class="col s6">
        <div class="lstl-control">
            <div class="btn-group">
                <a href="/index"><button  type="button" class="btn btn-default grey darken-1 tooltipped z-depth-0" aria-label="Left Align" data-tooltip="返回上一页" >
                    <span title = "返回上一页" class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                </button></a>

                <a href="#" data-activates="slide-out" ><button title = "d"  type="button" class="btn btn-default grey darken-1  button-collapse tooltipped z-depth-0"   aria-label="Right Align" data-activates="slide-out"  data-tooltip="前往店铺购买此课程">
                    <span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span>
                </button></a>
                
                {%if course_passwd %}
                <!-- 下载课程密码TEXT,需要兑换后才能下载 -->
                    <a href="/get_course_txt/{{course_id}}">
                        <button type="button" class="btn btn-default grey darken-1 tooltipped z-depth-0" aria-label="Right Align" data-tooltip="导出为txt保持到本地" onclick="Materialize.toast('导出成功,保存文件至本地!', 2000, 'rounded')">
                            <span class="glyphicon glyphicon-circle-arrow-down" aria-hidden="true"></span>
                        </button>
                    </a>
                {%else%} 
                    <!-- 没有兑换的时候 -->
                    <a href="#act_modal">
                        <button type="button" class="btn btn-default grey darken-1 tooltipped z-depth-0" aria-label="Right Align" data-tooltip="导出为txt保持到本地" onclick="Materialize.toast('请先兑换课程~!', 1800,)">
                        <span class="glyphicon glyphicon-circle-arrow-down" aria-hidden="true"></span>
                        </button>
                    </a>
                {%endif%} 
            </div>
        </div>
    </div>
</div>

<div class="l-title-line"></div>

{% endmacro%}

